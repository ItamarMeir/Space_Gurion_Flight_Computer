import serial
import time

# Setup the serial connection
# The Raspberry Pi's UART0 (serial0) is typically mapped to the TX (GPIO 14) and RX (GPIO 15) pins
serial_port = serial.Serial("/dev/serial0", baudrate=9600, timeout=1)

# Function to read one line of data from the GPS
def read_gps_data():
    try:
        line = serial_port.readline().decode('ascii', errors='replace')
        return line.strip()
    except serial.SerialException as e:
        print(f"Error reading from the serial port: {e}")
        return None

# Main loop to read and print GPS data
try:
    while True:
        data = read_gps_data()
        if data:
            print(data)
        time.sleep(1)
except KeyboardInterrupt:
    print("GPS reading stopped by user")
    serial_port.close()
